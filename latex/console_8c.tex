\hypertarget{console_8c}{}\section{console.\+c File Reference}
\label{console_8c}\index{console.\+c@{console.\+c}}
{\ttfamily \#include \char`\"{}stdio.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}stdarg.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}types.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}defs.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}param.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}traps.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}spinlock.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}fs.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}file.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}memlayout.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}mmu.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}proc.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}x86.\+h\char`\"{}}\\*
Include dependency graph for console.\+c\+:
% FIG 0
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{console_8c_acc7baca567881b626a36861f04996889}{P\+T\+E\+\_\+\+C\+OW}~0x800
\item 
\#define \hyperlink{console_8c_a629568514359445d2fbda71d70eeb1ce}{B\+A\+C\+K\+S\+P\+A\+CE}~0x100
\item 
\#define \hyperlink{console_8c_a2e3959df0a0c54f50f20d4776b14487f}{C\+R\+T\+P\+O\+RT}~0x3d4
\item 
\#define \hyperlink{console_8c_a5d85434f2a29f6c3048aeac34d0ce41d}{I\+N\+P\+U\+T\+\_\+\+B\+UF}~128
\item 
\#define \hyperlink{console_8c_ac54ae397901fe700628cafadea3c5208}{C}(x)~((x)-\/\textquotesingle{}@\textquotesingle{})
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{console_8c_a3e356b0ecad6aaa537241ba8aec2ba96}{uartgetc} (void)
\item 
int \hyperlink{console_8c_ae0e5224d52563340db794138daec14ca}{kbdgetc} (void)
\item 
void \hyperlink{console_8c_a506d19d964964f870d943d5ce8d372c1}{cputchar} (int)
\item 
int \hyperlink{console_8c_a6d5854f463c39b8d25aaa127b216832e}{vcprintf} (const char $\ast$fmt, \hyperlink{stdarg_8h_af53f622e3b6c080daeb167c1955d7ec1}{va\+\_\+list} ap)
\item 
int \hyperlink{console_8c_ab5c1b009763ca6674c08b6241dad015c}{cprintf} (const char $\ast$fmt,...)
\item 
void \hyperlink{console_8c_a95c0aca5d6d7487933984f08b189917a}{panic} (char $\ast$s)
\item 
int \hyperlink{console_8c_a53b135d585a564aa1ad542d3c977adec}{cons\+\_\+getc} (void)
\item 
void \hyperlink{console_8c_aad3d6ca39f23bb6d2686d2967e415193}{consoleintr} (int($\ast$getc)(void))
\item 
int \hyperlink{console_8c_a28ac85a90987662e306ca8efbfe16074}{consoleread} (struct \hyperlink{structinode}{inode} $\ast$ip, char $\ast$dst, int n)
\item 
int \hyperlink{console_8c_a6af7eb39268127d389792cec37785666}{consolewrite} (struct \hyperlink{structinode}{inode} $\ast$ip, char $\ast$\hyperlink{structbuf}{buf}, int n)
\item 
void \hyperlink{console_8c_ab508ff0f4db26fe35cd25fa648f9ee75}{consoleinit} (void)
\item 
int \hyperlink{console_8c_a3e29caa20f7cffe18f410f01278905a8}{getchar} (void)
\item 
int \hyperlink{console_8c_ac130f71968e37e58a2d30ccb9888347d}{iscons} (int fdnum)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\begin{tabbing}
xx\=xx\=xx\=xx\=xx\=xx\=xx\=xx\=xx\=\kill
struct \{\\
\>char \hyperlink{console_8c_aa427837782b05b05204809dfba33c8f5}{buf} \mbox{[}\hyperlink{console_8c_a5d85434f2a29f6c3048aeac34d0ce41d}{INPUT\_BUF}\mbox{]}\\
\>\hyperlink{custom__types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint} \hyperlink{console_8c_af10fa12dd785c91e29528fbdc50cf9af}{r}\\
\>\hyperlink{custom__types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint} \hyperlink{console_8c_afdeff54db9a334718662b709641fdfe1}{w}\\
\>\hyperlink{custom__types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint} \hyperlink{console_8c_ab56fa7c992b725d84916b987c3d532ea}{e}\\
\} \hyperlink{console_8c_a41db130acd332cdb95756628cfb2e48b}{input}\\

\end{tabbing}\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\index{console.\+c@{console.\+c}!B\+A\+C\+K\+S\+P\+A\+CE@{B\+A\+C\+K\+S\+P\+A\+CE}}
\index{B\+A\+C\+K\+S\+P\+A\+CE@{B\+A\+C\+K\+S\+P\+A\+CE}!console.\+c@{console.\+c}}
\subsubsection[{\texorpdfstring{B\+A\+C\+K\+S\+P\+A\+CE}{BACKSPACE}}]{\setlength{\rightskip}{0pt plus 5cm}\#define B\+A\+C\+K\+S\+P\+A\+CE~0x100}\hypertarget{console_8c_a629568514359445d2fbda71d70eeb1ce}{}\label{console_8c_a629568514359445d2fbda71d70eeb1ce}
\index{console.\+c@{console.\+c}!C@{C}}
\index{C@{C}!console.\+c@{console.\+c}}
\subsubsection[{\texorpdfstring{C}{C}}]{\setlength{\rightskip}{0pt plus 5cm}\#define C(
\begin{DoxyParamCaption}
\item[{}]{x}
\end{DoxyParamCaption}
)~((x)-\/\textquotesingle{}@\textquotesingle{})}\hypertarget{console_8c_ac54ae397901fe700628cafadea3c5208}{}\label{console_8c_ac54ae397901fe700628cafadea3c5208}
\index{console.\+c@{console.\+c}!C\+R\+T\+P\+O\+RT@{C\+R\+T\+P\+O\+RT}}
\index{C\+R\+T\+P\+O\+RT@{C\+R\+T\+P\+O\+RT}!console.\+c@{console.\+c}}
\subsubsection[{\texorpdfstring{C\+R\+T\+P\+O\+RT}{CRTPORT}}]{\setlength{\rightskip}{0pt plus 5cm}\#define C\+R\+T\+P\+O\+RT~0x3d4}\hypertarget{console_8c_a2e3959df0a0c54f50f20d4776b14487f}{}\label{console_8c_a2e3959df0a0c54f50f20d4776b14487f}
\index{console.\+c@{console.\+c}!I\+N\+P\+U\+T\+\_\+\+B\+UF@{I\+N\+P\+U\+T\+\_\+\+B\+UF}}
\index{I\+N\+P\+U\+T\+\_\+\+B\+UF@{I\+N\+P\+U\+T\+\_\+\+B\+UF}!console.\+c@{console.\+c}}
\subsubsection[{\texorpdfstring{I\+N\+P\+U\+T\+\_\+\+B\+UF}{INPUT_BUF}}]{\setlength{\rightskip}{0pt plus 5cm}\#define I\+N\+P\+U\+T\+\_\+\+B\+UF~128}\hypertarget{console_8c_a5d85434f2a29f6c3048aeac34d0ce41d}{}\label{console_8c_a5d85434f2a29f6c3048aeac34d0ce41d}
\index{console.\+c@{console.\+c}!P\+T\+E\+\_\+\+C\+OW@{P\+T\+E\+\_\+\+C\+OW}}
\index{P\+T\+E\+\_\+\+C\+OW@{P\+T\+E\+\_\+\+C\+OW}!console.\+c@{console.\+c}}
\subsubsection[{\texorpdfstring{P\+T\+E\+\_\+\+C\+OW}{PTE_COW}}]{\setlength{\rightskip}{0pt plus 5cm}\#define P\+T\+E\+\_\+\+C\+OW~0x800}\hypertarget{console_8c_acc7baca567881b626a36861f04996889}{}\label{console_8c_acc7baca567881b626a36861f04996889}


\subsection{Function Documentation}
\index{console.\+c@{console.\+c}!cons\+\_\+getc@{cons\+\_\+getc}}
\index{cons\+\_\+getc@{cons\+\_\+getc}!console.\+c@{console.\+c}}
\subsubsection[{\texorpdfstring{cons\+\_\+getc(void)}{cons_getc(void)}}]{\setlength{\rightskip}{0pt plus 5cm}int cons\+\_\+getc (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{console_8c_a53b135d585a564aa1ad542d3c977adec}{}\label{console_8c_a53b135d585a564aa1ad542d3c977adec}
\index{console.\+c@{console.\+c}!consoleinit@{consoleinit}}
\index{consoleinit@{consoleinit}!console.\+c@{console.\+c}}
\subsubsection[{\texorpdfstring{consoleinit(void)}{consoleinit(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void consoleinit (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{console_8c_ab508ff0f4db26fe35cd25fa648f9ee75}{}\label{console_8c_ab508ff0f4db26fe35cd25fa648f9ee75}
\index{console.\+c@{console.\+c}!consoleintr@{consoleintr}}
\index{consoleintr@{consoleintr}!console.\+c@{console.\+c}}
\subsubsection[{\texorpdfstring{consoleintr(int($\ast$getc)(void))}{consoleintr(int(*getc)(void))}}]{\setlength{\rightskip}{0pt plus 5cm}void consoleintr (
\begin{DoxyParamCaption}
\item[{int($\ast$)(void)}]{getc}
\end{DoxyParamCaption}
)}\hypertarget{console_8c_aad3d6ca39f23bb6d2686d2967e415193}{}\label{console_8c_aad3d6ca39f23bb6d2686d2967e415193}
\index{console.\+c@{console.\+c}!consoleread@{consoleread}}
\index{consoleread@{consoleread}!console.\+c@{console.\+c}}
\subsubsection[{\texorpdfstring{consoleread(struct inode $\ast$ip, char $\ast$dst, int n)}{consoleread(struct inode *ip, char *dst, int n)}}]{\setlength{\rightskip}{0pt plus 5cm}int consoleread (
\begin{DoxyParamCaption}
\item[{struct {\bf inode} $\ast$}]{ip, }
\item[{char $\ast$}]{dst, }
\item[{int}]{n}
\end{DoxyParamCaption}
)}\hypertarget{console_8c_a28ac85a90987662e306ca8efbfe16074}{}\label{console_8c_a28ac85a90987662e306ca8efbfe16074}
\index{console.\+c@{console.\+c}!consolewrite@{consolewrite}}
\index{consolewrite@{consolewrite}!console.\+c@{console.\+c}}
\subsubsection[{\texorpdfstring{consolewrite(struct inode $\ast$ip, char $\ast$buf, int n)}{consolewrite(struct inode *ip, char *buf, int n)}}]{\setlength{\rightskip}{0pt plus 5cm}int consolewrite (
\begin{DoxyParamCaption}
\item[{struct {\bf inode} $\ast$}]{ip, }
\item[{char $\ast$}]{buf, }
\item[{int}]{n}
\end{DoxyParamCaption}
)}\hypertarget{console_8c_a6af7eb39268127d389792cec37785666}{}\label{console_8c_a6af7eb39268127d389792cec37785666}
\index{console.\+c@{console.\+c}!cprintf@{cprintf}}
\index{cprintf@{cprintf}!console.\+c@{console.\+c}}
\subsubsection[{\texorpdfstring{cprintf(const char $\ast$fmt,...)}{cprintf(const char *fmt,...)}}]{\setlength{\rightskip}{0pt plus 5cm}int cprintf (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{fmt, }
\item[{}]{...}
\end{DoxyParamCaption}
)}\hypertarget{console_8c_ab5c1b009763ca6674c08b6241dad015c}{}\label{console_8c_ab5c1b009763ca6674c08b6241dad015c}
\index{console.\+c@{console.\+c}!cputchar@{cputchar}}
\index{cputchar@{cputchar}!console.\+c@{console.\+c}}
\subsubsection[{\texorpdfstring{cputchar(int)}{cputchar(int)}}]{\setlength{\rightskip}{0pt plus 5cm}void cputchar (
\begin{DoxyParamCaption}
\item[{int}]{c}
\end{DoxyParamCaption}
)}\hypertarget{console_8c_a506d19d964964f870d943d5ce8d372c1}{}\label{console_8c_a506d19d964964f870d943d5ce8d372c1}
\index{console.\+c@{console.\+c}!getchar@{getchar}}
\index{getchar@{getchar}!console.\+c@{console.\+c}}
\subsubsection[{\texorpdfstring{getchar(void)}{getchar(void)}}]{\setlength{\rightskip}{0pt plus 5cm}int getchar (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{console_8c_a3e29caa20f7cffe18f410f01278905a8}{}\label{console_8c_a3e29caa20f7cffe18f410f01278905a8}
\index{console.\+c@{console.\+c}!iscons@{iscons}}
\index{iscons@{iscons}!console.\+c@{console.\+c}}
\subsubsection[{\texorpdfstring{iscons(int fdnum)}{iscons(int fdnum)}}]{\setlength{\rightskip}{0pt plus 5cm}int iscons (
\begin{DoxyParamCaption}
\item[{int}]{fdnum}
\end{DoxyParamCaption}
)}\hypertarget{console_8c_ac130f71968e37e58a2d30ccb9888347d}{}\label{console_8c_ac130f71968e37e58a2d30ccb9888347d}
\index{console.\+c@{console.\+c}!kbdgetc@{kbdgetc}}
\index{kbdgetc@{kbdgetc}!console.\+c@{console.\+c}}
\subsubsection[{\texorpdfstring{kbdgetc(void)}{kbdgetc(void)}}]{\setlength{\rightskip}{0pt plus 5cm}int kbdgetc (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{console_8c_ae0e5224d52563340db794138daec14ca}{}\label{console_8c_ae0e5224d52563340db794138daec14ca}
\index{console.\+c@{console.\+c}!panic@{panic}}
\index{panic@{panic}!console.\+c@{console.\+c}}
\subsubsection[{\texorpdfstring{panic(char $\ast$s)}{panic(char *s)}}]{\setlength{\rightskip}{0pt plus 5cm}void panic (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{s}
\end{DoxyParamCaption}
)}\hypertarget{console_8c_a95c0aca5d6d7487933984f08b189917a}{}\label{console_8c_a95c0aca5d6d7487933984f08b189917a}
\index{console.\+c@{console.\+c}!uartgetc@{uartgetc}}
\index{uartgetc@{uartgetc}!console.\+c@{console.\+c}}
\subsubsection[{\texorpdfstring{uartgetc(void)}{uartgetc(void)}}]{\setlength{\rightskip}{0pt plus 5cm}int uartgetc (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{console_8c_a3e356b0ecad6aaa537241ba8aec2ba96}{}\label{console_8c_a3e356b0ecad6aaa537241ba8aec2ba96}
\index{console.\+c@{console.\+c}!vcprintf@{vcprintf}}
\index{vcprintf@{vcprintf}!console.\+c@{console.\+c}}
\subsubsection[{\texorpdfstring{vcprintf(const char $\ast$fmt, va\+\_\+list ap)}{vcprintf(const char *fmt, va_list ap)}}]{\setlength{\rightskip}{0pt plus 5cm}int vcprintf (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{fmt, }
\item[{{\bf va\+\_\+list}}]{ap}
\end{DoxyParamCaption}
)}\hypertarget{console_8c_a6d5854f463c39b8d25aaa127b216832e}{}\label{console_8c_a6d5854f463c39b8d25aaa127b216832e}


\subsection{Variable Documentation}
\index{console.\+c@{console.\+c}!buf@{buf}}
\index{buf@{buf}!console.\+c@{console.\+c}}
\subsubsection[{\texorpdfstring{buf}{buf}}]{\setlength{\rightskip}{0pt plus 5cm}char {\bf buf}\mbox{[}{\bf I\+N\+P\+U\+T\+\_\+\+B\+UF}\mbox{]}}\hypertarget{console_8c_aa427837782b05b05204809dfba33c8f5}{}\label{console_8c_aa427837782b05b05204809dfba33c8f5}
\index{console.\+c@{console.\+c}!e@{e}}
\index{e@{e}!console.\+c@{console.\+c}}
\subsubsection[{\texorpdfstring{e}{e}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uint} e}\hypertarget{console_8c_ab56fa7c992b725d84916b987c3d532ea}{}\label{console_8c_ab56fa7c992b725d84916b987c3d532ea}
\index{console.\+c@{console.\+c}!input@{input}}
\index{input@{input}!console.\+c@{console.\+c}}
\subsubsection[{\texorpdfstring{input}{input}}]{\setlength{\rightskip}{0pt plus 5cm}struct \{ ... \}   input}\hypertarget{console_8c_a41db130acd332cdb95756628cfb2e48b}{}\label{console_8c_a41db130acd332cdb95756628cfb2e48b}
\index{console.\+c@{console.\+c}!lock@{lock}}
\index{lock@{lock}!console.\+c@{console.\+c}}
\subsubsection[{\texorpdfstring{lock}{lock}}]{\setlength{\rightskip}{0pt plus 5cm}struct {\bf spinlock} lock}\hypertarget{console_8c_ab28e82cd5dda7d960095706a3ea20572}{}\label{console_8c_ab28e82cd5dda7d960095706a3ea20572}
\index{console.\+c@{console.\+c}!locking@{locking}}
\index{locking@{locking}!console.\+c@{console.\+c}}
\subsubsection[{\texorpdfstring{locking}{locking}}]{\setlength{\rightskip}{0pt plus 5cm}int locking}\hypertarget{console_8c_ae51110da3bc13ef49e32d1e2cda5d55c}{}\label{console_8c_ae51110da3bc13ef49e32d1e2cda5d55c}
\index{console.\+c@{console.\+c}!r@{r}}
\index{r@{r}!console.\+c@{console.\+c}}
\subsubsection[{\texorpdfstring{r}{r}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uint} r}\hypertarget{console_8c_af10fa12dd785c91e29528fbdc50cf9af}{}\label{console_8c_af10fa12dd785c91e29528fbdc50cf9af}
\index{console.\+c@{console.\+c}!w@{w}}
\index{w@{w}!console.\+c@{console.\+c}}
\subsubsection[{\texorpdfstring{w}{w}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uint} w}\hypertarget{console_8c_afdeff54db9a334718662b709641fdfe1}{}\label{console_8c_afdeff54db9a334718662b709641fdfe1}
